var VISITS_TEXT = "Un dia entre cavalls lliures";
var VISITS_COLOR = "#378006";

var CONNECT_TO_THE_LIFE_TEXT = "Connecta't a la vida";
var CONNECT_TO_THE_LIFE_COLOR = '#ea7900';

var HOLIDAYS_IN_THE_FOUNDATION_TEXT = "Vacances entre cavalls lliures";
var HOLIDAYS_IN_THE_FOUNDATION_COLOR = '#1ab7d2';

var SUMMER_CAMP_TEXT = "Campaments d'estiu";
var SUMMER_CAMP_COLOR = '#d8d305';

var WORK_CAMP_TEXT = "Camps de treball";
var WORK_CAMP_COLOR = "#86830a";

var VETERANS_CAMP_TEXT = "Camp de veterans";
var VETERANS_CAMP_COLOR = "#d8d305";

var NIGHT_TEXT = "Nit entre cavalls"
var NIGHT_COLOR = "#3a4373"

var PRZEWALSKI_TEXT = "Projecte Przewalski"
var PRZEWALSKI_COLOR = "#dec74c"

var ANGELS_TEXT = "Comunicació Natural"
var ANGELS_COLOR = "#dec74c"

var TRANSHUMANCE_TEXT = "Transhumància"
var TRANSHUMANCE_COLOR = "#dec74c"

var FAMILY_TEXT = "Natura i Cultura en família"
var FAMILY_COLOR = "#86830a"

var CONVIVENCIA_CREATIVA_GARRAF_TEXT = "Convivència creativa al Garraf"
var CONVIVENCIA_CREATIVA_GARRAF_COLOR = "#dec74c"

var FAMILY_TEENS_TEXT = "Natura i Cultura pares i fills"
var FAMILY_TEENS_COLOR = "#86830a"

var LIDERSHIP_TEXT = "Comunicació i Lideratge"
var LIDERSHIP_COLOR = "#86830a"

var LIDERSHIP2_TEXT = "Constel·lacions Sistèmiques"
var LIDERSHIP2_COLOR = "#86830a"

var MENJAR_TEXT = "Alimentación consciente y saludable"
var MENJAR_COLOR = "#86830a"

var ESSENCIA_TEXT = "Essència del Cavall"
var ESSENCIA_COLOR = "#86830a"

var VINCLES_TEXT = "Retirs"
var VINCLES_COLOR = "#86830a"

var ACTIVITATS_ESPECIALS_TEXT = "Sota la lluna"
var ACTIVITATS_ESPECIALS_COLOR = "#dc7519"

var VESPRE_ENTRE_CAVALLS_TEXT = "Vespre entre cavalls"
var VESPRE_ENTRE_CAVALLS_COLOR = "#1988dc"

var TYPES = [
	"MENJAR",
	"VISITS",
	"CONNECT_TO_THE_LIFE",
	"HOLIDAYS_IN_THE_FOUNDATION",
	"SUMMER_CAMP",
	"WORK_CAMP",
	"VETERANS_CAMP",
	"NIGHT",
	"PRZEWALSKI",
	"TRANSHUMANCE",
	"ANGELS",
	"FAMILY",
	"FAMILY_TEENS",
	"LIDERSHIP",
	"LIDERSHIP2",
	"CONVIVENCIA_CREATIVA_GARRAF",
	"ESSENCIA",
	"VINCLES",
	"ACTIVITATS_ESPECIALS",
	"VESPRE_ENTRE_CAVALLS"
]

var VESPRE_ENTRE_CAVALLS = [
	{
	  start: '2019-08-02',
	  url: "https://www.eventbrite.com/e/entradas-un-vespre-entre-cavalls-lliures-al-parc-del-garraf-64959653071",
	},
	{
	  start: '2019-08-09',
	  url: "https://www.eventbrite.com/e/entradas-un-vespre-entre-cavalls-lliures-al-parc-del-garraf-64960498600",
	},
	{
	  start: '2019-08-16',
	  url: "https://www.eventbrite.com/e/entradas-un-vespre-entre-cavalls-lliures-al-parc-del-garraf-64960610936",
	},
	{
	  start: '2019-08-23',
	  url: "https://www.eventbrite.com/e/entradas-un-vespre-entre-cavalls-lliures-al-parc-del-garraf-64960798497",
	},
	{
	  start: '2019-08-30',
	  url: "https://www.eventbrite.com/e/entradas-un-vespre-entre-cavalls-lliures-al-parc-del-garraf-64960916851",
	},
	{
	  start  : '2019-07-21',
	  url: "https://www.eventbrite.com/e/entradas-un-vespre-entre-cavalls-lliures-al-parc-del-garraf-62853349059"
	},
	{
	  start  : '2019-07-06',
	  url: "https://www.eventbrite.com/e/entradas-un-vespre-entre-cavalls-lliures-al-parc-del-garraf-62842588875"
	},
]

var VINCLES = [	
	{
	  start: '2019-03-02',
	  url: "/dol",
	},
	{
	  start: '2019-04-07',
	  url: "/malalties",
	},
];

var ESSENCIA = [
	{
	  start: '2018-09-15',
	  url: "https://www.eventbrite.com/e/jornada-sobre-lessencia-del-cavall-tickets-49037858555?aff=ebapi",
	},
]

var MENJAR = [	
	{
	  start: '2018-08-03',
	  end: '2018-08-06',
	  url: "https://www.eventbrite.com/e/entradas-retir-dalimentacio-transicio-cap-a-una-alimentacio-conscient-i-saludable-46048523373",
	},
];

var ACTIVITATS_ESPECIALS = [	
	{
	  start: '2019-08-15',
	  url: "https://www.eventbrite.com/e/entradas-sota-la-lluna-plena-del-garraf-amb-les-ponis-pottoka-62843016153",
	},

]

var LIDERSHIP = [	
	{
	  start: '2018-02-22',
	  url: "/static/images/inscripcionsTallers.pdf",
	},
	{
	  start: '2018-02-24',
	  url: "/static/images/inscripcionsTallers.pdf",
	}
]

var LIDERSHIP2 = [	
	{
	  start: '2018-04-15',
	  url: "/static/images/inscripcionsTallers.pdf",
	},
	{
	  start: '2018-08-17',
	  end: '2018-08-20',
	  url: "https://www.eventbrite.com/e/retir-de-constellacions-entre-cavalls-lliures-tickets-46047709940",
	}
]

var FAMILY = [	
	{
	  start: '2018-03-10',
	  end: '2018-03-12',
	  url: "/static/images/inscripcionsTallers.pdf",
	}
]

var CONVIVENCIA_CREATIVA_GARRAF = [
	{
	  start: '2018-04-21',
	  end: '2018-04-23',
	  url: "/static/images/inscripcionsTallers.pdf",
	},
	{
	  start: '2018-03-25',
	  end: '2018-03-30',
	  url: "/static/images/inscripcionsTallers.pdf",
	}
]


var FAMILY_TEENS = [	
	{
	  start: '2018-01-28',
	  url: "/static/images/inscripcionsTallers.pdf",
	},
	{
	  start: '2018-02-25',
	  url: "/static/images/inscripcionsTallers.pdf",
	}
]

var NEW_YEAR = [
	{
	  start: '2017-12-30',
	  end: '2018-01-02',
	  url: "https://www.eventbrite.com/e/retir-de-constellacions-sistemiques-i-nit-de-cap-dany-tickets-39432318125",
	}
]

var TRANSHUMANCE = [
	{
	  start: '2018-10-01',
	  end: '2018-10-13',
	  url: "http://pedratour.com/tour/camins-de-sal-2018/",
	},
	{
	  start: '2018-10-31',
	  end: '2018-11-13',
	  url: "http://pedratour.com/tour/camins-de-sal-2018/",
	}
]

var PRZEWALSKI = [
	{
	  start: '2017-09-08',
	  end: '2017-09-10',
	  url: "https://www.eventbrite.com/e/presentacio-projecte-przewalski-tickets-37078724463",
	}
]

var ANGELS = [
	{
	  start: '2017-09-24',
	  url: "https://www.eventbrite.com/e/entradas-jornada-de-comunicacio-natural-amb-cavalls-37365661700",
	}
]

var NIGHT = [
	{
	  start: '2017-08-04',
	  end: '2017-08-06',
	  url: "https://www.eventbrite.com/e/nit-entre-cavalls-lliures-tickets-36260083887",
	},
	{
	  start: '2017-08-05',
	  end: '2017-08-07',
	  url: "https://www.eventbrite.com/e/nit-entre-cavalls-lliures-tickets-36260084890",
	},

	{
	  start: '2017-08-18',
	  end: '2017-08-20',
	  url: "https://www.eventbrite.com/e/nit-entre-cavalls-lliures-tickets-36260085893",
	},
	{
	  start: '2017-08-19',
	  end: '2017-08-21',
	  url: "https://www.eventbrite.com/e/nit-entre-cavalls-lliures-tickets-36260086896",
	},

	{
	  start: '2017-09-01',
	  end: '2017-09-03',
	  url: "https://www.eventbrite.com/e/nit-entre-cavalls-lliures-tickets-36260087899",
	},
	{
	  start: '2017-09-02',
	  end: '2017-09-04',
	  url: "https://www.eventbrite.com/e/nit-entre-cavalls-lliures-tickets-36260088902",
	},

	{
	  start: '2017-09-22',
	  end: '2017-09-24',
	  url: "https://www.eventbrite.com/e/nit-entre-cavalls-lliures-tickets-37295927122",
	},
	{
	  start: '2017-09-23',
	  end: '2017-09-25',
	  url: "https://www.eventbrite.com/e/nit-entre-cavalls-lliures-tickets-37295928125",
	},


	{
	  start: '2017-10-20',
	  end: '2017-10-22',
	  url: "https://www.eventbrite.com/e/entradas-nit-entre-cavalls-lliures-37803372906",
	},
	{
	  start: '2017-10-21',
	  end: '2017-10-23',
	  url: "https://www.eventbrite.com/e/entradas-nit-entre-cavalls-lliures-37803373909",
	},
	
]

var VISITS = [ 
	{
	  start  : '2017-08-05',
	  url: "https://www.eventbrite.com/e/un-dia-entre-cavalls-lliures-tickets-35653965972",
	},
	{
	  start  : '2017-08-19',
	  url: "https://www.eventbrite.com/e/un-dia-entre-cavalls-lliures-tickets-35653966975",
	},
	{
	  start  : '2017-09-02',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-fundacio-miranda-36599875212",
	},
	{
	  start  : '2017-09-23',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-fundacio-miranda-36599876215"
	},
	{
	  start  : '2017-10-21',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-fundacio-miranda-37803347831"
	},
	{
	  start  : '2017-12-17',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-garraf-39809401993"
	},
	{
	  start  : '2018-01-27',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-garraf-41000510631"
	},

	{
	  start  : '2018-02-10',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-garraf-42561216745"
	},
	{
	  start  : '2018-02-18',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-garraf-42562404297"
	},
	{
	  start  : '2018-03-24',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-a-ossera-alt-urgell-42983218965"
	},
	{
	  start  : '2018-03-31',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-garraf-42983136719"
	},
	{
	  start  : '2018-06-17',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-fundacio-miranda-45291820053"
	},
	{
	  start  : '2018-08-12',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-fundacio-miranda-46048488268"
	},
	{
	  start  : '2018-08-25',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-fundacio-miranda-46048508328"
	},
	{
	  start  : '2018-09-16',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-fundacio-miranda-49421148987"
	},
	{
	  start  : '2018-09-30',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-fundacio-miranda-49421284392"
	},
	{
	  start  : '2018-10-07',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-fundacio-miranda-49037595769"
	},
	{
	  start  : '2018-11-18',
	  url: "https://www.eventbrite.com/e/entradas-primer-dia-entre-cavalls-lliures-al-parc-del-garraf-despres-de-la-transhumancia-52189316651"
	},
	{
	  start  : '2018-12-09',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-parc-del-garraf-52447310317"
	},
	{
	  start  : '2018-12-22',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-parc-del-garraf-edicio-especial-52540688614"
	},
	{
	  start  : '2019-01-19',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-parc-del-garraf-53648831098"
	},
	{
	  start  : '2019-01-27',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-parc-del-garraf-53649248346"
	},
	{
	  start  : '2019-02-10',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-parc-del-garraf-54819076333"
	},
	{
	  start  : '2019-02-23',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-parc-del-garraf-54819121468"
	},
	{
	  start  : '2019-03-17',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-parc-del-garraf-56358544925"
	},
	{
	  start  : '2019-03-30',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-amb-visita-enoturistica-a-can-rafols-dels-caus-edicio-especial-56360639189"
	},
	{
	  start  : '2019-04-14',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-parc-del-garraf-58986231406"
	},
	{
	  start  : '2019-04-27',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-garraf-amb-sencies-58986461093"
	},
	{
	  start  : '2019-06-02',
	  url: "https://www.eventbrite.com/e/entradas-festa-de-la-transhumancia-de-primavera-2019-60536899496"
	},
	{
	  start  : '2019-06-16',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-pla-de-lorri-62109480127"
	},
	{
	  start  : '2019-08-10',
	  url: "https://www.eventbrite.com/e/entradas-un-dia-entre-cavalls-lliures-al-pla-de-lorri-62841900817"
	},

	
];

var CONNECT_TO_THE_LIFE = [
	{
	  start: '2017-08-25',
	  end: '2017-08-28',
	  url: "https://www.eventbrite.com/e/connectat-a-la-vida-tickets-35647822597",
	},

	{
	  start: '2017-10-06',
	  end: '2017-10-09',
	  url: "https://www.eventbrite.com/e/retir-de-natura-i-salut-entre-cavalls-lliures-tickets-37803190360",
	}

	
];

var SUMMER_CAMP = [
	{
	  start: '2018-06-24',
	  end: '2018-07-01',
	  url: "http://www.eolia.cat/wp-content/uploads/2015/05/INSCRIPCIONS-PLA-DE-LORRI-TALLERS-E%C3%92LIAFUNDACI%C3%93-MIRANDA-1.pdf",
	},
	{
	  start: '2018-07-01',
	  end: '2018-07-08',
	  url: "http://www.eolia.cat/wp-content/uploads/2015/05/INSCRIPCIONS-PLA-DE-LORRI-TALLERS-E%C3%92LIAFUNDACI%C3%93-MIRANDA-1.pdf",
	},
	{
	  start: '2018-07-08',
	  end: '2018-07-15',
	  url: "http://www.eolia.cat/wp-content/uploads/2015/05/INSCRIPCIONS-PLA-DE-LORRI-TALLERS-E%C3%92LIAFUNDACI%C3%93-MIRANDA-1.pdf",
	},
	{
	  start: '2018-09-02',
	  end: '2018-09-09',
	  url: "http://www.eolia.cat/wp-content/uploads/2015/05/INSCRIPCIONS-PLA-DE-LORRI-TALLERS-E%C3%92LIAFUNDACI%C3%93-MIRANDA-1.pdf",
	},

	{
	  start: '2019-06-24',
	  end: '2019-06-30',
	  url: "http://www.eolia.cat/campaments-destiu-per-nens-i-joves/",
	},
	{
	  start: '2019-06-30',
	  end: '2019-07-07',
	  url: "http://www.eolia.cat/campaments-destiu-per-nens-i-joves/",
	},
	{
	  start: '2019-07-07',
	  end: '2019-07-14',
	  url: "http://www.eolia.cat/campaments-destiu-per-nens-i-joves/",
	},
	{
	  start: '2019-07-14',
	  end: '2019-07-21',
	  url: "http://www.eolia.cat/campaments-destiu-per-nens-i-joves/",
	},
	{
	  start: '2019-07-21',
	  end: '2019-07-28',
	  url: "http://www.eolia.cat/campaments-destiu-per-nens-i-joves/",
	},
	{
	  start: '2019-07-28',
	  end: '2019-08-04',
	  url: "http://www.eolia.cat/campaments-destiu-per-nens-i-joves/",
	},
	{
	  start: '2019-09-01',
	  end: '2019-09-08',
	  url: "http://www.eolia.cat/campaments-destiu-per-nens-i-joves/",
	},
];

var WORK_CAMP = [	
	{
	  start: '2018-07-15',
	  end: '2018-07-22',
	  url: "http://www.eolia.cat/wp-content/uploads/2015/05/INSCRIPCIONS-PLA-DE-LORRI-TALLERS-E%C3%92LIAFUNDACI%C3%93-MIRANDA-1.pdf",
	  full: true
	},
	{
	  start: '2018-07-22',
	  end: '2018-07-29',
	  url: "http://www.eolia.cat/wp-content/uploads/2015/05/INSCRIPCIONS-PLA-DE-LORRI-TALLERS-E%C3%92LIAFUNDACI%C3%93-MIRANDA-1.pdf",
	}
];


var VETERANS_CAMP = [	
	{
	  start: '2018-08-06',
	  end: '2018-08-10',
	  url: "http://www.eolia.cat/wp-content/uploads/2015/05/INSCRIPCIONS-PLA-DE-LORRI-TALLERS-E%C3%92LIAFUNDACI%C3%93-MIRANDA-1.pdf",
	}
];

var HOLIDAYS_IN_THE_FOUNDATION = [
	{
	  start: '2017-08-04',
	  end: '2017-08-07',
	  url: "https://www.eventbrite.com/e/vacances-entre-cavalls-lliures-tickets-35774225672",
	},
]

var EVENTS = [];
class Calendar {
	constructor(id) {
		this.id = ko.observable(id);
		this.calendarId = ko.computed(() => {
			return "calendar-" + this.id();
		});
		this.rendered = ko.observable(false);
	}

	getTextFromName(name) {
		return name + "_TEXT"
	}

	getColorFromName(name) {
		return name + "_COLOR"
	}

	createEventsList () {
		EVENTS = [];
		for (var j = 0; j < TYPES.length; j++) {
			for (var i = 0; i < window[TYPES[j]].length; i++) {
				window[TYPES[j]][i].title = window[this.getTextFromName(TYPES[j])];
				window[TYPES[j]][i].color = window[this.getColorFromName(TYPES[j])];
				if ( window[TYPES[j]][i].full) {
					window[TYPES[j]][i].color = "#de780b";
					window[TYPES[j]][i].url = "";
					window[TYPES[j]][i].title += " - COMPLET";
				}
				EVENTS.push(window[TYPES[j]][i]);
			}
		}
	}

	render () {
		this.createEventsList();

		$('#' + this.calendarId()).fullCalendar({
			firstDay: 1,
			height: "parent",
			locale: PM.locale(),
			fixedWeekCount: false,
		  events: EVENTS
    });
	}

	defaultDate(date) {
		$('#' + this.calendarId()).fullCalendar("gotoDate", date);
	}

	show() {
		setTimeout(() => {
			if ($('#' + this.calendarId())[0]) {
				this.render();
				this.rendered(true);
			} else {
				this.show();
			}
		}, 500)
	}
}
